// ==========================================================================
// Modules
// ==========================================================================

/* Header
   ========================================================================== */

@include mq($until: tablet) {
  #nav {
    visibility: hidden;
    height: auto;
  }
}

header {
  @media print {
    display: none;
  }
  background: white;
  z-index: 20;

  nav {
    line-height: 2;

    ul {
      margin: 0;
      padding: 0;
      list-style-type: none;
    }

    a {
      font-weight: 800;
      text-decoration: none;
      text-transform: uppercase;
    }
  }

  .node-type-application & {
    &.l-padding-mobile-hs {
      display: none;
    }
  }

  @include mq($until: tablet) {

    .logo {
      img {
        max-width: 70px;
      }
    }

    > .l-constrained {
      padding-bottom: 1em;
    }

    > .l-constrained .columns {
      &.two {
        float: left;
      }

      width: auto;
      display: inline-block;
    }

    .menu-btn {
      position: absolute;
      top: 0;
      right: 0;
    }
  }

  @include mq($from: tablet) {
    position: relative;
    background: $cerulean;

    > .row {
      position: relative;
    }
  }

  @include mq(tablet, site) {

    > .l-constrained {
      padding-bottom: 2.5em;

      .logo--wrap {
        @include span(3 of 12 no-gutters);
      }

      .three {
        text-align: right;
        @include span(3 of 12 no-gutters);
      }

      .seven {
        position: static;
        @include span(6 of 12 no-gutters);
      }
    }
  }

  @include mq($until: site) {

    .quicklinks {
      //float: left;
    }

    .card--weather {
      margin-top: .5em;
      text-align: center;

      i, p, p.temperature {
        @include rem('font-size', 16px);
      }

      br {
        display: none;
      }
    }
  }

  @include mq($from: site) {

    > .l-constrained {
      padding-bottom: 1em;
    }

    .quicklinks {
      // float: left;
      // display: inline-block;
      height: 35px;
    }

    .form--search-wrap {
      // padding: 0 2em;
    }

    .card--weather {

    }

    .twelve {
      float: right;
      padding-left: 0;
      padding-right: 0;
    }
  }

  @include mq($until: site-constraint) {
    > .row {
      padding-left: .5em;
      padding-right: .5em;
    }
  }

  .nav-logo {
    display: none;
  }


  // fixed header
  &.header--fixed {

    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
    padding-top: 0;

    -webkit-transition-property: padding-top;
    -moz-transition-property: padding-top;
    transition-property: padding-top;
    -webkit-transition-duration: 300ms;
    -moz-transition-duration: 300ms;
    transition-duration: 300ms;
    -webkit-transition-timing-function: ease-in-out;
    -moz-transition-timing-function: ease-in-out;
    transition-timing-function: ease-in-out;

    @include mq($until: site) {
      .form--search-wrap a {
        display: none;
      }
      .main__navigation {
        & > ul {
          width: 100%;
        }
      }
    }

    @include mq($until: tablet) {
      .form--search-wrap {
        display: none;
      }
    }

    @include mq($from: site, $until: tablet-landscape) {
      .main__navigation {
        & > ul {
          width: 83%;
        }
      }
      .search-icon--open {
        right: 40px;
      }
    }

    @include mq($from: tablet-landscape) {
      .main__navigation {
        & > ul {
          width: 85%;
        }
      }
      .search-icon--open {
        right: 50px;
      }
    }

    @include mq($from: site) {
      width: 100%;
      position: fixed;
      top: -164px; // height of top-header
      padding-top: 66px;
      .theme-citynet & {
        top: 0;
        padding-top: 0;
        position: relative;
      }
      &.has-alert {
        top: -221px;

        .theme-citynet & {
          top: 0;
          position: relative;
        }
      }
      left: 0;
      z-index: 88888;
      backface-visibility: hidden;
      //transition-duration: none;
      box-shadow: none;
      body.logged-in.admin-menu & {
        //top: 30px;
        top: -136px;

        &.has-alert {
          top: -193px;
        }
      }

      // offset header height of sibling container
      + div {
        margin-top: 227px;

        .theme-citynet & {
          margin-top: 0;
          position: relative;
        }
      }

      .nav-logo {
        display: block;
      }

      .main__navigation {
        & > ul {
          min-height: auto;

          & > li {
            width: auto;
          }
        }
      }

      .nav-search {
        position: absolute;
        top: 0;
        right: 0;
      }

      .quicklinks, .form--search {
        display: none;
        z-index: 110;
        position: absolute;
        //top: 66px;
        right: 0;
        border-radius: 0 0 5px 5px;
        padding: 1em;
        background-color: #0098db;
        box-shadow: 0 3px 0px -1px rgba(0, 0, 0, 0.15);

        input.search-type, input[type="search"] {
          border: 1px solid $chateau;
          border-right: none;
        }

        input[type="submit"] {
          border: 1px solid $chateau;
          border-left: none;
        }

        .theme-citynet & {
          display: block;
          background-color: #009581;
          padding: 0;
        }
      }
      .quicklinks {
        width: auto;
      }
      .form--search {
        width: 100%;
      }
    }

    @include mq($from: tablet-landscape) {
      // offset header height of sibling container
      + div {
        margin-top: 165px;

        .node-type-application & {
          margin-top: 0px;
        }
      }
      ~ ul {
        margin-top: 185px !important;
      }
      &.has-alert {
        + div {
          margin-top: 223px;

          .node-type-application & {
            margin-top: 0px;
          }

          .theme-citynet & {
            margin-top: 0;
            position: relative;
          }
        }

        ~ ul {
          margin-top: 243px !important;
        }
      }
    }

    .search-icon {
      padding: .25em 0;
    }

    .search-icon--open, .translate-icon--open {
      display: block;
      position: absolute;
      top: 0;
      z-index: 100;
      padding-top: 1em;

      i {
        font-size: 24px;
        color: #37424a;

      }

      &:hover, i:hover {
        color: $cerulean;
      }

      .theme-citynet & {
        display: none;
      }
    }

    .translate-icon--open {
      right: 0px;
    }

    .form--search-wrap {
      position: absolute;
      top: 0;
      right: 0;
    }

    .quicklinks {
      height: auto;
    }
  }

  &.header--app {
    @media print {
      display: block;
      .logo {
        display: none;
      }
    }
    padding: .75em 0;
    text-align: center;
    background-color: $cerulean;

    .row {
      padding: 0;
    }

    @include mq($from: mobile-wide) {
      text-align: left;

      .row {
        padding: 0 .5em;
        -webkit-align-items: center; /* Safari */
        align-items: center;
        display: block; /* Fallback IE9 */
        display: -webkit-flex; /* Safari */
        display: flex;
        -webkit-justify-content: space-between; /* Safari */
        justify-content: space-between;
        -webkit-flex-wrap: nowrap; /* Safari */
        flex-wrap: nowrap;
      }
    }

    @include mq($until: tablet) {
      .logo {
        img {
          max-width: 155px;
          margin-bottom: .75em;
        }
      }
    }

    @include mq($until: mobile-landscape) {
      h1 {
        @include rem('font-size', 28px);
      }
    }
  }
}

/* Pattern Library */
.library__header {
  position: static;
  background: transparent;

  > .l-constrained {
    padding: 1em 0;
    background: white;
  }

  li {
    display: inline-block;
    margin-left: .5em;
    margin-right: .5em;
  }

  a {
    font-weight: 600;
    text-transform: none;
    line-height: 2.75;
  }
}

.hero__slides {
  z-index: 4;
  width: 100%;
  height: 100%;
  position: relative;

  .theme-citynet & {
    height: 198px;
  }

  @include mq($from: site) {
    > .row {
      padding: 5em 0 12em;
    }
  }
  @include mq($until: site) {
    > .row {
      padding: 1em 1em 0 1em;
    }
  }

  .flex-control-nav,
  .flex-direction-nav {
    display: none;
  }

  .custom-navigation {

    a {
      -ms-transform: none;
      -webkit-transform: none;
      transform: none;
    }

    @include mq($from: mobile-landscape) {
      position: absolute;
      right: 0;
      bottom: 0;

      a {
        position: relative;
      }
    }

  }
}

.hero__slides--img {
  position: absolute;
  top: 0;
  z-index: 0;
  width: 100%;
  height: 100% !important;

  li {
    &:after {
      content: '';
      z-index: 5;
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      //background: rgba(0, 0, 0, 0.35);
    }

    @include mq($from: site) {
      &:after {
        display: none;
      }
    }
  }

  .slides,
  li,
  .hero__bg {
    height: 100%;
  }
}

.hero--credit {
  text-align: center;
  position: absolute;
  bottom: 0;
  width: 100%;
  z-index: 10;

  p {
    margin: 0;
    color: white;
    padding: .5em 1em;
    font-style: normal;
    display: inline-block;
    background: rgba(0, 0, 0, 0.45);
    @include rem('font-size', 11px);

    .hero-image-by-prefix,
    .hero-image-by {
      @include rem('font-size', 10px);
    }

    @include mq($from: site) {
      padding: .5em 3.5em .5em 1em;
    }
  }

  @include mq($from: site) {
    right: 0;
    bottom: 8em;
    text-align: right;
  }
}

.hero__content {
  z-index: 4;
  color: white;
  margin: 0 0 3em;
  padding: 1.5em;
  position: relative;

  h1 {
    margin: 0;
    color: white;
    @include rem('font-size', 45px);
  }

  p {
    margin: 0;
    @include rem('font-size', 18px);
  }

  .btn {
    display: block;
    margin-top: 2em;
    font-weight: 600;
    padding: 1.25em 2.5em;
  }

  @include mq($from: mobile-landscape) {
    padding: 1.75em 2.5em;

    h1 {
      @include rem('font-size', 60px);
    }

    p {
      @include rem('font-size', 24px);
    }

    .btn {
      margin-top: 2em;
      display: inline-block;
    }
  }

  //@include mq( $from: site ) {
  margin: 0;
  padding: 2.75em 3.5em;
  background: rgba(0, 0, 0, 0.35);

  &.no-sides {
    background: transparent;
  }

  //}

  //@include mq( $until: site ) {
  //    width: auto;
  //}
}

.hero__slides--content {
  .slides {
    overflow: hidden;
  }
}

.hero__slides--secondary {
  @include mq($until: site) {
    padding-bottom: 2em;
    min-height: 100px;
  }

  .hero__content {
    text-align: center;
    padding: 3.5em 1em;

    h1 {
      @include rem('font-size', 48px);
    }
  }

  .flex-control-nav {
    display: block;

    @include mq($until: site) {
      bottom: 0;
    }
  }
}

.hero__wrap {
  position: relative;

  // If no content is provided, add this class to .hero__wrap
  &.hero__wrap--empty {
    min-height: 250px;
    position: absolute;
    width: 100%;
    z-index: 0;
  }
}

// Background image element height is equal to that of the hero content
.hero__bg {
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;

  // Background image element height is not equal to that of the hero content
  &.hero__bg--secondary {
    position: absolute;
    width: 100%;
    height: 150%;
    max-height: 20em;
    top: 0;
    left: 0;
    z-index: 0;

    @include mq($until: tablet) {
      height: auto;
      min-height: 175px;
    }
  }

  // Solid background color behind hero content
  &.hero__bg--solid {
    //background: $cerulean;
    background: #0098db; /* Old browsers */
    background: -moz-linear-gradient(left, #0098db 0%, #00c7b2 100%); /* FF3.6-15 */
    background: -webkit-linear-gradient(left, #0098db 0%, #00c7b2 100%); /* Chrome10-25,Safari5.1-6 */
    background: linear-gradient(to right, #0098db 0%, #00c7b2 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#0098db', endColorstr='#00c7b2', GradientType=1); /* IE6-9 */
    position: absolute;
    width: 100%;
    height: 15em;
    top: 0;
    left: 0;
    z-index: 0;
  }
}

.custom-navigation {

  a {
    z-index: 10;
    color: white;
    padding: 0 .25em;
    background: $cerulean;
    text-decoration: none;
    display: inline-block;
    position: absolute;
    top: 50%;
    left: 0;
    -ms-transform: translateY(-50%);
    -webkit-transform: translateY(-50%);
    transform: translateY(-50%);
    @include rem('font-size', 28px);

    &.flex-next {
      left: auto;
      right: 0;
    }

    &:hover {
      cursor: pointer;
      background: darken($cerulean, 10%);
    }
  }

}


/* Navigation
   ========================================================================== */

/* MEGA MENU */
.navigation__wrap {
  background: white;
  box-shadow: 0 4px 3px -3px rgba(0, 0, 0, 0.3);
}

.main__navigation {

  background: white;
  position: relative;

  ul {
    margin: 0;
    padding: 0;
    list-style: none;

    @include mq($until: tablet) {
      background: $spruce;
    }
  }

  > ul {

    @include mq($from: tablet) {
      min-height: 63px;
      overflow: hidden;
      display: block; /* Fallback IE9 */
      display: -webkit-flex; /* Safari */
      display: flex;
      -webkit-justify-content: space-between; /* Safari */
      justify-content: space-between;
      -webkit-flex-wrap: nowrap; /* Safari */
      flex-wrap: nowrap;
    }

    > li {
      margin: 0;
      position: relative;
      transition: background .15s ease;

      @include mq($from: tablet) {
        @include span(2 no-gutters);
        position: static;
        border-bottom: none;

        &:before {
          content: '';
          width: 1px;
          height: 100%;
          position: absolute;
          @include gray-gradient;
        }

        &.current,
        &:hover {
          background: $tulip;

          > a,
          > a i,
          > a span {
            color: white;
            background: $tulip;
          }
        }

        &:last-child > a:after {
          content: '';
          width: 1px;
          height: 100%;
          right: 0;
          bottom: 0;
          position: absolute;
          @include gray-gradient;
        }
      }

      @include mq($until: tablet) {
        border-bottom: 1px dashed $spruce;
      }

      > a {

        color: white;
        padding: 1em;
        text-transform: uppercase;
        transition: color .15s ease;
        @include rem('font-size', 13px);

        @include mq($from: tablet) {
          color: $spruce;
        }

        @include mq($until: tablet) {

          background: $off-black;

          padding: 1em;
          @include rem('font-size', 18px);

          span {
            @include rem('font-size', 14px);
          }

          i {
            position: absolute;
            right: 1em;
            top: 50%;
            font-size: 30px;
            color: $spruce;
            transform: translateY(-50%);
            -webkit-transform: translateY(-50%);
            -moz-transform: translateY(-50%);
            -ms-transform: translateY(-50%);
            transition: transform .25s ease;
          }

          &.open-dropdown {
            i {
              transform: rotate(90deg) translateX(-50%);
              -webkit-transform: rotate(90deg) translateX(-50%);
              -moz-transform: rotate(90deg) translateX(-50%);
              -ms-transform: rotate(90deg) translateX(-50%);
            }
          }

          &.open-dropdown:before {
            content: '';
            width: 0;
            height: 0;
            z-index: 21;
            position: absolute;
            top: 100%;
            left: 5px;
            border-style: solid;
            border-width: 10px 13px 0 13px;
            border-color: $off-black transparent transparent transparent;
          }
        }

        @include mq($until: site-constraint) {
          padding: 1em .75em;
          min-height: 83px;
        }

        @include mq(tablet, site) {
          padding: 1em;
          min-height: 100px;
        }

      }

    }

  }

  a {
    color: $shuttle;
    display: block;
    font-weight: 600;
    line-height: 1.6;
    position: relative;
    text-decoration: none;
    @include rem('font-size', 14px);

    i {
      color: $sunshade;
      vertical-align: text-bottom;
      @include rem('font-size', 18px);

      &.icon-home {
        color: $spruce;
      }
    }

    span {
      display: block;
      font-weight: 400;
      text-transform: none;
      // transition: color .1s ease-in;
      @include rem('font-size', 11px);
    }

    &:hover {
      color: $off-white;

      i {
        color: $off-white;
      }
    }

    @include mq($from: tablet) {
      &:hover {
        color: black;
      }
    }


  }

  // MEGA MENU
  .dropdown {
    z-index: 10;
    padding: 1em;
    @extend %white-gradient;

    @include mq($until: tablet) {
      background: transparent;
      display: none;

      * {
        color: white;
      }

      a, h4 {
        line-height: 1.5;
        @include rem('font-size', 18px);
      }
    }

    @include mq($from: tablet) {
      position: absolute;
      width: 100%;
      top: 100%;
      left: 0;
      box-shadow: 0px 3px 8px 0px rgba(0, 0, 0, 0.4);
      visibility: hidden;
      opacity: 0;
      transition: opacity .5s ease;
      // -webkit-transition-delay: 1000ms;
      // -moz-transition-delay: 1000ms;
      // -o-transition-delay: 1000ms;
      // transition-delay: 1000ms;

      &.visible {
        visibility: visible;
        opacity: 1;
      }

      h4 a {
        color: $spruce;
        line-height: 1.3em;

        &:hover {
          color: black;
        }
      }
    }

    li {
      margin: .5em 0;

      a {
        line-height: 1.3em;
      }
    }

    h4 {
      @include rem('font-size', 18px);

      a {
        text-transform: none;
        @include rem('font-size', 18px);
        text-decoration: underline;
      }
    }

    .nav__heading {
      margin-bottom: .25em;
      @include rem('font-size', 36px);
      font-family: $font-family-secondary;

      p {
        border-bottom: 1px solid $alto;
      }
    }

    .border {
      border: none;
      border-bottom: 1px dashed $alto;
      margin-bottom: .5em;
      padding-bottom: .5em;
    }

    .nav__event {
      @include rem('font-size', 18px);
      clear: both;
      overflow: hidden;
      margin-bottom: .5em;
      padding-bottom: .5em;

      a {
        color: $cerulean;
        text-transform: none;
        text-decoration: underline;

        &:hover {
          color: lighten($link-color, 10%);
        }
      }

      img {
        float: left;
        margin-right: 1em;
      }

      &:first-child {
        margin-top: 2em;
      }

      @include mq($from: tablet) {
        @include rem('font-size', 13px);

        &:first-child {
          margin-top: 0em;
        }
      }
    }
  }
}

.sub__nav--library {
  background: white;
  margin-top: .5em;

  .sub__nav {
    padding: 0;

    li:first-child {
      margin-left: 0;
    }

    a {
      text-decoration: none;
    }
  }
}

.sub__nav--wrap {
  margin-bottom: 1em;
  background: $spruce;
}

// Left hand library navigation
.sub__nav {
  margin: 0;
  padding: .5em;
  list-style-type: none;

  li {
    margin: 0 .5em;
    font-weight: 600;
    line-height: 1.6;
    color: $chateau;
    display: inline-block;
    vertical-align: text-top;
  }
}


// Template sub-navigation
.sub-navigation {
  @media print {
    display: none;
  }
  background: $teal;
  position: relative;
  z-index: 10;

  @include mq($from: tablet) {
    background: transparent;
  }

  @include mq($until: tablet) {
    background: white;
  }

  ul {
    margin: 0;
    padding: 0;
    list-style: none;
    overflow: hidden;

    @include mq($from: tablet) {
      background: transparent;
      display: block;
      display: -webkit-flex; /* Safari */
      display: flex;
      -webkit-justify-content: left; /* Safari */
      justify-content: left;
      -webkit-flex-wrap: wrap;
      flex-wrap: wrap;
      -webkit-flex-wrap: nowrap;
      flex-wrap: nowrap;
    }
  }

  &.sub-navigation--long {
    ul {
      -webkit-flex-wrap: wrap;
      flex-wrap: wrap;
    }
  }

  li {
    margin: .5em;
    padding: .5em;
    display: block;
    line-height: 1em;
    background: $teal;

    &.active {
      background: darken($teal, 5%);
    }

    @include mq($from: tablet) {
      padding: 0;
      display: inline-block;
      display: -webkit-flex;
      display: flex;
      float: left;
      margin: 0 .4em;
      max-width: 25%;
      .theme-citynet & {
        max-width: none;
      }

      &:first-child {
        margin-left: 0;
      }
    }
  }

  a {
    display: block;
    color: $mercury;
    font-weight: bold;
    text-decoration: none;

    &:hover {
      color: white;
    }

    @include mq($from: tablet) {
      padding: .5em .75em;
      @include rem('font-size', 13px);
    }
  }
}

.sub-navigation-mobile {
  .accordions {
    margin: 0;
  }

  .accordion__heading, .accordion__drawer {
    background-color: $teal;
  }

  .is-open .accordion__heading {
    background-color: white;

    a.accordion__link {
      color: #37424a !important;

      .toggle-icon:before, .toggle-icon:after {
        background-color: #37424a;
      }
    }
  }

  a {
    color: white;

    .toggle-icon:before, .toggle-icon:after {
      background-color: white;
    }
  }
}

// Microsite/Portal nav
.portal, .theme-citynet {
  header {
    @include mq($from: tablet) {
      background: $cerulean;
    }
  }

  .logo {
    display: block;
    padding: .5em;
    position: relative;

    img {
      z-index: 2;
      position: relative;
      display: inline-block;

      @include mq($until: tablet) {
        max-width: 140px;
        max-height: 55px;
      }
    }

    &:before {
      content: '';
      display: block;
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0em;
      left: 0;
      z-index: 2;
      background: white;
    }

    @include mq($from: tablet) {
      text-align: center;
    }

    @include mq($from: site) {
      padding: 0;

      &:before {
        top: -1em;
        height: 180%;
      }

      img {
        top: .5em;
      }
    }
  }

  .menu-toggle {
    @include mq($until: tablet) {
      top: 3.7em;
    }
  }
}

.main__navigation--portal {
  background-color: $cerulean;

  @include mq($until: tablet) {
    padding: 1em;
  }

  li {
    margin: 0 .25em;
    padding: .5em 0;
    @include rem('font-size', 18px);

    @include mq($until: tablet) {
      float: none;
    }

    @include mq($from: tablet) {
      padding: 0;
      display: inline-block;
      @include rem('font-size', 13px);

      &:last-child {
        float: right;
        margin-top: .25em;
      }
    }

    @include mq($from: site) {
      margin: 0 .75em;
    }

  }

  a {
    color: white;
    font-weight: normal;

    &:hover {
      color: lighten($cerulean, 40%);
    }
  }
}

// Top Navigation Strip (On portal pages)
.top-nav-strip {
  color: white;
  padding: .5em 1em;
  background: $science;

  header#outreach & {
    padding: .5em 1em;
    background: white;
    box-shadow: 0 4px 3px -3px rgba(0, 0, 0, 0.3);
    position: relative;
    z-index: 300;

    p a {
      color: #37424a;

      img {
        height: 30px;
        width: auto;
        max-width: none;
      }
    }

    .quicklinks .google-translate {
      padding-top: 8px;

      .goog-te-gadget-simple .goog-te-menu-value {
        color: #37424a;

        > span + img + span + img + span {
          border-bottom: 2px solid #37424a !important;
          border-right: 2px solid #37424a !important;
        }
      }
    }
  }

  p {
    margin: 0;
    line-height: 1.9;

    a {
      color: white;
      text-decoration: none;

      &:hover {
        text-decoration: underline;
      }
    }
  }

  .socials {
    a {
      opacity: 0.85;
      color: $science;
      -webkit-transition-property: opacity;
      -moz-transition-property: opacity;
      transition-property: opacity;
      -webkit-transition-duration: .15s;
      -moz-transition-duration: .15s;
      transition-duration: .15s;

      &:hover {
        opacity: 1;
      }
    }
  }

  @include mq($until: tablet) {
    .search-icon {
      color: white;
      text-decoration: none;
      display: inline-block;
      background-color: transparent;
      width: auto;
      height: auto;
      line-height: normal;
    }

    .sm-six:last-child {
      text-align: right;
    }

    & .quicklinks {
      //top: 138px;
      top: 51px;
    }
  }

  /*@include mq( $from: tablet ) {
        padding: 1em;
        @include rem( 'font-size', 13px );

        .six:last-child {
            text-align: right;
        }
    }*/
  padding: 1em;
  @include rem('font-size', 13px);

  .six:last-child {
    text-align: right;
  }
}

.breadcrumbs {
  @include rem('font-size', 11px);

  a {
    color: $spruce;
    text-decoration: none;

    &:hover {
      color: darken($spruce, 20%);
    }
  }

  .breadcrumbs__current {
    font-weight: bold;
  }
}

.quicklinks {
  text-align: right;

  ul {
    padding: .25em 0 0;
    list-style: none;
  }

  li {
    margin: 0 .25em;
    display: inline-block;
    @include rem('font-size', 13px);

    &:after {
      clear: both;
      float: none;
    }
  }

  li {
    padding: 0 .25em;
    margin: 0;
    //border-right: 1px solid $off-white;
    height: 28px;
    display: inline;
    @include rem('font-size', 13px);
    // &:after {
    //     color: white;
    //     content: '|';
    //     margin-left: .5em;
    // }

    &:last-child:after {
      display: none;
    }
  }

  a {
    color: white;
    font-weight: 600;
    text-decoration: none;
  }

  @include mq($until: tablet) {
    display: none;
    z-index: 110;
    position: absolute;
    left: 0;
    top: 89px;
    width: 100%;
    border-radius: 0;
    padding: .5em 3em;
    //background-color: rgba(255, 255, 255, 0.9);
    background-color: $off-white;
    text-align: center;
    box-shadow: 0 3px 0px -1px rgba(0, 0, 0, 0.15);
  }

  .quicklinks .accessibility {
    font-size: 12px;
    padding-top: 8px;
  }

  // google translate
  .google-translate {
    display: block;

    @include mq($from: tablet) {
      display: inline-block;
      position: relative;
      padding: 5px 0 .5em 0;

      .goog-te-gadget {
        // height:50px;
        padding-right: 18px;

        .goog-te-combo {
          background-color: transparent;
          color: red;
          border: 0;

          &:hover {
            cursor: pointer;
          }

          &:focus {
            outline: 0;
          }

          option {
            background-color: $cerulean;
          }
        }

        & > span:first-child {
          display: none;
        }
      }

      .goog-logo-link {
        display: none;
      }
    }

    .goog-te-gadget-simple {
      //background-color:$cerulean;
      background-color: transparent;
      // line-height:47px;
      border: none;

      img {
        height: 0px;
        display: none;
      }

      .goog-te-menu-value {
        color: $off-white;
        padding: 0 4px;
        margin: 0;
        font-family: $font-family;
        font-size: rem(12);
        z-index: 200;

        @include mq($until: tablet) {
          color: $cerulean;
          font-size: 1rem;
        }

        & > span:first-child {
          margin-right: 0.5em;
        }

        & > span + img + span {
          border: none !important;
        }

        & > span + img + span + img + span { //dropdown arrow
          height: 0;
          width: 0;
          margin-left: 0;
          margin-top: 3px;
          background: none !important;
          border-bottom: 2px solid $off-white !important;
          border-right: 2px solid $off-white !important;
          height: 10px;
          height: 0.5rem;
          transform: rotate(45deg);
          width: 10px;
          width: 0.5rem;
          position: absolute;
          color: transparent !important;

          @include mq($until: tablet) {
            border-bottom: 2px solid $cerulean !important;
            border-right: 2px solid $cerulean !important;
            margin-top: 5px;
          }
        }
      }
    }
  }
}

html.translated-ltr, html.translated-rtl {
  //padding-top: 39px !important;

  header {
    &.header--fixed {
      padding-top: 105px;
    }
  }
}

/* Pagination
   ========================================================================== */
.pager {
  padding: 0;
  list-style: none;
  text-align: center;

  li {
    margin: 0 .5em;
    font-weight: bold;
    display: inline-block;
    @include mq($from: tablet) {
      @include rem('font-size', 13px);
    }
  }

  a {
    color: $cerulean;
    text-decoration: none;
    text-transform: lowercase;

    &:hover {
      color: darken($cerulean, 15%);
    }
  }

  // .pager-first,
  // .pager-previous,
  // .pager-next,
  // .pager-last {
  //     a {
  //         font-size: 0;
  //         &:before {
  //             content: '«';
  //             @include rem( 'font-size', 13px );
  //         }
  //     }
  // }
  // .pager-previous a:before {
  //     content: '<';
  // }
  // .pager-next a:before {
  //     content: '>';
  // }
  // .pager-last a:before {
  //     content: '»';
  // }
}


/* Pattern Library
   ========================================================================== */

.patterns {
  aside {
    ul {
      display: block;
      list-style: none;
      margin: 0;
      padding: 0;

      li {
        float: none;
        width: auto;
        border: none;
        margin: .5em 0;

        &:before {
          display: none;
        }
      }

      a {
        min-height: 0;
        padding: .75em;
        display: block;
        color: $charcoal;
        border-radius: 4px;
        text-transform: none;
        text-decoration: none;
        background: transparent;
        transition: background .15s ease;
        @include rem('font-size', 16px);

        &:hover {
          color: $charcoal;
          background: lighten($sunshade, 30%);
        }

        &.active {
          color: white;
          background: $sunshade;
        }

        &:before,
        &:after {
          display: none;
        }
      }


      @include mq($from: tablet) {
        a {
          color: $charcoal;
        }
      }

      @include mq($until: tablet) {
        a {
          color: white;
        }
      }
    }
  }

  @include mq($from: tablet) {
    .menu-toggle {
      display: none;
    }
  }

  @include mq($until: tablet) {
    .js-ready & {
      .nav-primary {
        padding: 0 1em;
        background-color: transparent;
      }
    }
  }
}

.code__examples {
  padding: .5em;
  background: $off-white;
  border: 1px solid $mercury;
  @include rem('font-size', 13px);

  .tag {
    color: blue;
  }

  .title {
    color: blue;
  }

  .attribute {
    color: green;
  }

  .value {
    color: red;
  }

  .content {
    color: black;
  }

  .CodeMirror-scroll {
    max-height: 350px;
  }
}

/* Hero
   ========================================================================== */

// Slideshow

/* Cards
   ========================================================================== */
%card {
  background: white;
  border-radius: 4px;
  width: 100%;

  &.border {
    margin-bottom: 0;
    padding-bottom: 0;
  }

  @include mq($until: tablet) {
    margin-top: 1em;
    margin-bottom: 1em;
  }
}

.card {
  @extend %card;

  > a {
    text-decoration: none;
  }

  &.background-off-white {
    background: $off-white;
  }
}

.card__container {
  position: relative;

  @include mq($from: mobile-landscape) {
    display: block;
    display: -webkit-flex; /* Safari */
    display: flex;
    -webkit-justify-content: flex-start; /* Safari */
    justify-content: flex-start;
    -webkit-flex-wrap: wrap;
    flex-wrap: wrap;
  }

  // If .mobile-flexslider exists, it creates a ul.slides wrapping the .cards
  @include mq($from: mobile-landscape) {
    .slides {
      display: block;
      display: -webkit-flex; /* Safari */
      display: flex;
      -webkit-justify-content: flex-start; /* Safari */
      justify-content: flex-start;
      -webkit-flex-wrap: wrap;
      flex-wrap: wrap;

    }
  }

  &.mobile-flexslider {
    height: 100% !important;
  }

  .card__wrap, .card--wrap {
    height: auto;
    margin: 0 .5em;
    width: 100%;

    @include mq($from: mobile-landscape) {
      margin: 0;
      padding: .75em;
      display: -webkit-flex; /* Safari */
      display: flex;

      .card {
        flex: 0 1 auto;
      }
    }

    @include mq(mobile-landscape, tablet) {
      @include span(6);
    }
    @include mq($from: tablet) {
      @include span(4);
    }

  }

  .card__wrap_s, .card--wrap-s {
    height: auto;
    margin: 0 .5em;
    width: 100%;

    @include mq($from: mobile-landscape) {
      margin: 0;
      padding: .75em;
      display: -webkit-flex; /* Safari */
      display: flex;

      .card {
        flex: 0 1 auto;
      }
    }

    @include mq(mobile-landscape, tablet) {
      @include span(4);
    }
    @include mq($from: tablet) {
      @include span(3);
    }

  }

  .card__wrap_m, .card--wrap-m {
    height: auto;
    margin: 0 .5em;
    width: 100%;

    @include mq($from: mobile-landscape) {
      margin: 0;
      padding: .75em;
      display: -webkit-flex; /* Safari */
      display: flex;

      .card {
        flex: 0 1 auto;
      }
    }

    @include mq(mobile-landscape, tablet) {
      @include span(6);
    }
    @include mq($from: tablet) {
      @include span(4);
    }

  }

  .card__content {
    padding: 1.5em;

    @include mq($from: tablet) {
      @include rem('font-size', 13px);
    }

    > a {
      @include rem('font-size', 16px);
    }
  }

  .card__headline.title,
  .card__headline a {
    color: $spruce;
    text-decoration: none;
    font-family: $font-family-secondary;
    @include rem('font-size', 16px);
  }

  .card__meta {
    margin: 1em 0;

    a {
      color: $cerulean;
      text-decoration: underline;
    }
  }

  .card__image {
    img {
      width: 100%;
      border-radius: 4px 4px 0 0;
    }
  }

  .card__btn {
    display: block;
    font-weight: 600;
  }

  &.flexslider--mobile {
    .card__wrap {
      @include mq($until: tablet) {
        margin: 0;
      }
    }
  }
}

.card__cta {
}

.card__cta--graphic {
  text-align: center;

  background {
    position: center center;
    repeat: no-repeat;
  }

  > a {
    display: block;
    padding: 1.5em;
    position: relative;

    &:before {
      content: '';
      display: block;
      background: black;
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity .25s ease;
    }

    &:hover {
      &:before {
        opacity: .1;
      }
    }
  }

  a {
    @include rem('font-size', 16px);
  }

  p {
    color: white;
    @include rem('font-size', 18px);
    font-family: $font-family-secondary;
  }
}

.card--stats {
  color: white;
  padding: .75em;
  border-radius: 0;
  text-align: right;
  background-color: $cerulean;

  p {
    margin: 0;
  }

  .card__headline {
    line-height: 1;
    font-weight: 700;
    @include rem('font-size', 50px);
  }
}

.card--notification {
  p {
    margin-bottom: 0;
  }

  i {
    color: white;
    padding: .3em;
    border-radius: 50%;
    display: inline-block;
    vertical-align: middle;
    vertical-align: -webkit-baseline-middle;
    @include rem('font-size', 24px);

    @include mq(tablet, site) {
      @include rem('font-size', 18px);
    }
  }

  .date {
    margin: 0;
    font-weight: 600;
    letter-spacing: .1em;
    text-transform: uppercase;
    @include rem('font-size', 12px);
    font-family: $font-family-secondary;
  }
}

.node-type-events .content main {
  position: relative;
}

.event__wrap {
  @include mq($from: tablet) {
    .six:first-child {
      border-right: 1px solid $alto;
    }
  }
}

.event__date {
  color: #37424a;
  line-height: 1;
  padding: .75em 0;
  font-weight: 600;
  text-align: center;
  background: white;
  @include rem('font-size', 13px);
  @include span(1 of 5 no-gutters);
  border: 1px solid #d1d4d3;
  border-top: 5px solid #ffa02f;

  span {
    display: block;
    text-transform: uppercase;
  }

  span.nocase {
    display: block;
    text-transform: none !important;
  }
}

.event--cerulean {
  border-left: 5px solid #0098db !important;
  margin-left: .5em;
}

.event--robin {
  border-left: 5px solid #00c7b2 !important;
  margin-left: .5em;
}

.event--schoolbus {
  border-left: 5px solid #fcd900 !important;
  margin-left: .5em;
}

.event__info {
  @include span(4 of 5);

  h6 {
    margin-top: 0;
  }

  p {
    line-height: 1.4;
  }

  .date-display-range {
    display: inline;
  }
}

.flexslider--mobile {
  @include mq($until: tablet) {
    .card__wrap,
    .card--wrap {
      margin: 0;
    }

    iframe {
      padding: 0;
    }
  }
}

/* Alerts
   ========================================================================== */
.alert {
  color: white;
  background: $science;

  p {
    @include mq($from: tablet) {
      @include rem('font-size', 13px);
    }
  }

  i {
    @include rem('font-size', 32px);
  }

  .alert__heading {
    color: white;
    padding: .2em .5em;
    margin-bottom: .5em;
    @include rem('font-size', 24px);
    font-family: $font-family-secondary;
    background: lighten($science, 5%);
  }

  .alert__content {
    padding: 0 .75em;
  }
}

/* Tooltips */
.tooltip__wrap {
  position: relative;

  &:hover {
    cursor: auto;

    .tooltip {
      display: block;
    }
  }
}

.tooltip {
  z-index: 5;
  color: white;
  padding: .5em 1em;
  display: none;
  font-weight: 600;
  position: absolute;
  top: 0;
  left: 0;
  border-radius: 2px;
  background: $spruce;
  @include rem('font-size', 14px);

}

.tooltip--bottom {
  top: 150%;
  left: 50%;
  -ms-transform: translateX(-50%);
  -moz-transform: translateX(-50%);
  transform: translateX(-50%);

  &:before {
    content: '';
    width: 0;
    height: 0;
    position: absolute;
    border-style: solid;
    top: -8px;
    left: 50%;
    -ms-transform: translateX(-50%);
    -moz-transform: translateX(-50%);
    transform: translateX(-50%);
    border-width: 0 9px 8px 9px;
    border-color: transparent transparent $spruce transparent;
  }
}

.tooltip--left {
  top: 50%;
  left: 150%;
  -ms-transform: translateY(-50%);
  -moz-transform: translateY(-50%);
  transform: translateY(-50%);

  &:before {
    content: '';
    width: 0;
    height: 0;
    position: absolute;
    border-style: solid;
    left: -8px;
    top: 50%;
    border-width: 9px 8px 9px 0;
    -ms-transform: translateY(-50%);
    -moz-transform: translateY(-50%);
    transform: translateY(-50%);
    border-color: transparent $spruce transparent transparent;
  }
}

/* Menu List
   ========================================================================== */


/* Page/Single post
   ========================================================================== */

/* Comments */

.card--comment {
  padding: 1em;
  border-bottom: 2px solid $mercury;

  i {
    color: $sunshade;
  }

  @include mq($until: tablet) {
    .six,
    .form-actions {
      text-align: center;
    }

    .card__meta {
      margin-left: 0;
    }

    .card__content {
      margin-top: 1em;
    }
  }
}

/* Steps
   ========================================================================== */
.step__single {
  margin: 2em 0;
  background: white;
  position: relative;
  padding: .5em .75em;
  text-align: center;
  border: 1px solid $chateau;

  .icon--circle {
    width: 2em;
    height: 2em;
    text-align: center;
    margin-bottom: 0;
    line-height: 2em;
    padding: 0;
    vertical-align: middle;
    font-family: $font-family-secondary;
    @include rem('font-size', 22px);
  }

  @include mq($from: mobile-wide) {
    margin: .75em 0;
    text-align: center;

    &:before {
      right: 1em;
      top: -.85em;
      transform: none;
    }
  }

  @include mq($from: tablet) {
    margin: .75em 0;
    text-align: left;

    &:before {
      right: 1em;
      top: -.85em;
      transform: none;
    }
  }

  @include mq(mobile-wide, tablet) {
    .columns {
      display: block;
    }
  }

  h4, .h4 {
    line-height: 1.5;
  }
}

.step__header {
  vertical-align: middle;
  vertical-align: -webkit-baseline-middle;
  @include rem('font-size', 16px);

  .step__desc {
    font-family: $font-family;
  }

  @include mq($from: mobile-wide) {
    //margin: 0;
    //line-height: 40px;
    padding-top: .3em;
  }
}

.step__num {
  float: right;
  font-family: $font-family-secondary;

  @include mq($until: tablet) {
    margin-left: 1em;
  }
}


/* Entry
   ========================================================================== */

.post__meta {

  .social-share__wrap {
    text-align: center;
    margin-top: 1.5em;
  }

  @include mq($from: tablet) {
    @include rem('font-size', 13px);

    .social-share__wrap {
      margin: 1em 0;
      text-align: center;
    }
  }

}

.post__author {
  a {
    text-decoration: none;
  }
}

.article--teaser,
.article__teaser {
  padding: 1em;

  &:nth-child(2n+1) {
    background-color: $off-white;
  }

  .event--day {
    font-size: 3em;
  }
}

.entry {

}

.entry__content {
  > img {
    margin-top: 2em;
    margin-bottom: 2em;
    display: inline-block;
  }
}

.entry__image {
  img {
    width: 100%;
  }
}

.entry__pagination {
  @include mq($from: tablet) {
    padding-left: 5em;
    padding-right: 5em;
    @include rem('font-size', 13px);

    .entry--prev {
      text-align: right;
    }

    .six {
      padding-left: 2em;
      padding-right: 2em;
    }

    .six:first-child {
      border-right: 1px solid $alto;
    }

  }
}

/* Messaging
   ========================================================================== */
.main__message {
  z-index: 2;
  padding: 1.5em;
  text-align: center;
  position: relative;
  background-color: rgba(0, 0, 0, 0.35);

  @include mq($from: tablet) {
    padding: 2.5em 1em;
    .node-type-article & {
      padding: 3em 0;
    }
  }
  @include mq($until: tablet) {
    padding: 1.5em 1em;
  }

  .main__heading {
    margin: 0;
    color: white;
    @include rem('font-size', 48px);
    @include mq($until: tablet) {
      font-size: 2rem;
    }
    @media print {
      font-size: 2em;
    }
  }

  .main__tagline {
    margin: 0;
    margin-top: 10px;
    color: white;
    @include rem('font-size', 16px);
    @include mq($until: tablet) {
      text-align: center;
      font-weight: normal;
    }
    @media print {
      font-size: 2em;
    }
    text-align: left;
    font-weight: bold;
    margin-top: 10px;
    line-height: 1rem;
    background-color: transparent;
    text-shadow: 0 0 #555, 0 2px 0.5em black, 2px 0 0.5em black, 0 0 black;
  }

  .main__content {
    margin: 0;
    color: white;
    @media print {
      font-size: 1em;
    }
  }

  a {
    color: $gold;
  }

  &.main__message--white {
    background-color: white;

    a {
      color: $off-black;
    }

    .main__heading {
      color: $off-black;
    }

    .main__content {
      color: $teal;
    }
  }

  &.main__message--transparent {
    background: transparent;

    .main__heading {
      color: white;
      text-shadow: 0 0 #555, 0 2px 0.3em black, 2px 0 0.3em black, 0 0 black;
    }
  }
}


.message {
  padding: 1em;
  border-radius: 4px;

  p {
    margin: 0;
  }

  a {
    line-height: 1;
    text-decoration: none;
  }

  i {
    vertical-align: middle;
    @include rem('font-size', 24px);
  }

  &.message--success {
    background-color: $success-lt;

    i {
      color: $success;
    }
  }

  &.message--warning {
    background-color: $warning-lt;

    i {
      color: $warning;
    }
  }

  &.message--error {
    background-color: $error-lt;

    i {
      color: $error;
    }
  }

  &.message--emergency {
    background-color: $emergency-lt;
    font-size: 1.375rem;
    padding: .8em 1em;

    i, a, p {
      color: $emergency;
    }

    a {
      text-decoration: underline;
    }

    i {
      font-size: 2.125rem;
    }
  }
}

/* New set of classes. Requested by Ron */
.message--success {
  background-color: $success-lt;

  i {
    color: $success;
  }
}

.message--warning {
  background-color: $warning-lt;

  i {
    color: $warning;
  }
}

.message--error {
  background-color: $error-lt;

  i {
    color: $error;
  }
}

.message--emergency {
  background-color: $emergency-lt;
  font-size: 1.375rem;
  padding: .8em 1em;

  i, a, p {
    color: $emergency;
  }

  a {
    text-decoration: underline;
  }

  i {
    font-size: 2.125rem;
  }
}

/* Weather
   ========================================================================== */

.card--weather {
  color: white;
  text-align: left;
  padding: .25em .75em;
  border-radius: 3px;
  display: inline-block;
  font-family: $font-family-secondary;
  background-color: darken($cerulean, 9%);

  p {
    margin: 0 .2em;
    display: inline-block;
    vertical-align: middle;
    text-transform: uppercase;
    @include rem('font-size', 11px);

    &.temperature {
      @include rem('font-size', 24px);
    }
  }

  i {
    vertical-align: middle;
    @include rem('font-size', 24px);
  }
}

/* Text Sizing
   ========================================================================== */
span[class^="text-"] {
  color: rgba(255, 255, 255, 0.65);
  margin: 2px;

  &.current {
    color: white;
    text-decoration: underline;
  }

  &.text-sm {
    @include rem('font-size', 13px);
  }

  &.text-nm {
    @include rem('font-size', 16px);
  }

  &.text-lg {
    @include rem('font-size', 20px);
  }
}

/* Social
   ========================================================================== */
.socials {
  margin: 0;
  padding: 0;
  list-style: none;

  li {
    margin: 0 .1em;
    display: inline-block;
    vertical-align: bottom;

    &:first-child {
      margin-left: 0;
    }

    &:last-child {
      margin-right: 0;
    }
  }

  a {
    color: $spruce;
    display: block;
    width: 1.5em;
    height: 1.5em;
    line-height: 1.5em;
    text-align: center;
    border-radius: 2px;
    text-decoration: none;
    background: $off-white;
    @include rem('font-size', 16px);

    i {
      height: 1.5em;
      line-height: 1.5em;
      display: block;
      vertical-align: middle;
    }
  }
}

// AddThis
.social-share__wrap {
  @media print {
    display: none;
  }

  .department-socials {
    list-style-type: none;

    .socials-item {
      display: inline-block;
      background-size: cover;
    }

    .socials-link {
      font-size: 1.2rem;
      background: rgba(246, 246, 246, 0.8);
    }
  }

  span[class^="st"] {
    background-size: cover;
  }

  .stButton {
    margin: 0;

    .stLarge {
      width: 27px;
      height: 27px;

      &:hover {
        background-position: top left;
      }
    }
  }

}


/* Add to Calendar
   Some of the css here was copied from the module addtocal, other is from
   our pattern library.
   ========================================================================== */
body.page-node {
  .field-name-field-event-date {
    // So the date and the addtocal button are on same line.
    display: inline-block !important;
  }
}

.addtocal.addtocal-processed {
  @extend .btn;
  @extend .btn--quaternary;
  @extend .btn--sm;
  min-width: 120px;
  font-family: $font-family;
  font-weight: normal;
  float: none;
  padding: 5px !important;
  margin-left: 1em !important;
  // So the date and the addtocal button are on same line.
  display: inline-block !important;
}

div.item-list ul.addtocal_menu {
  min-width: 120px;
  background-color: $alto;
  color: $font-color;
  font-family: $font-family;
  font-weight: normal;
  @extend .btn--sm;
  margin-left: 1em !important;

  display: none;
  z-index: 50;
  //background: #efefef;
  background: $alto;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  //border: 1px solid #cdcdcd;
  padding: 5px;
  list-style-type: none;
  margin-top: 5px;
  margin-bottom: 0px;
  position: absolute;
}

ul.addtocal_menu li {
  margin: 0px;
  padding: 0px;
}

ul.addtocal_menu li a {
  //color: inherit;
  color: $font-color;
  text-decoration: none;
  display: block;
  padding: 5px;
}

ul.addtocal_menu li a:hover {
  text-decoration: none;
  //background: darken( $alto, 5% );
  background: lighten($alto, 4%);
  border-radius: 4px;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
}


/* Tags
   ========================================================================== */

.tag-list {
  margin: 0;
  padding: 0;
  list-style-type: none;
}

.tag-list__item {
  margin: .25em 0;
  padding: 0 1em .5em 0;
  display: inline-block;
}

.tag-list__link {
  color: #747678;
  line-height: 1;
  display: block;
  font-weight: 700;
  position: relative;
  padding: .5em .325em;
  text-decoration: none;
  background-color: #f6f6f6; /*#cbcbcb;*/
  @include rem('font-size', 13px);

  &:before,
  &:after {
    content: '';
    position: absolute;
  }

  &:before {
    width: 3px;
    height: 3px;
    top: 50%;
    left: 100%;
    z-index: 2;
    background-color: white;
    border-radius: 500px;
    -webkit-transform: translateY(-50%);
    -moz-transform: translateY(-50%);
    -ms-transform: translateY(-50%);
    -o-transform: translateY(-50%);
    transform: translateY(-50%);
  }

  &:after {
    top: 0;
    left: 100%;
    border-style: solid;
    border-color: transparent;
    border-left-color: #f6f6f6;
    border-width: 13px;
    -webkit-transition: border .15s;
    -moz-transition: border .15s;
    transition: border .15s;
  }

  &:hover {
    color: white;
    background-color: $gray;

    &:after {
      border-left-color: $gray;
    }
  }
}


/* Page containers
   ========================================================================== */

main {
  @include mq($from: tablet) {
    > .nine:first-child {
      border-right: 1px solid darken($alto, 4%);
      border-left: 1px solid $alto;

      &:after {
        content: '';
        background: lighten($mercury, 2%);
        position: absolute;
        top: 0;
        right: -33.6%;
        height: 100%;
        width: 33.5%;
      }
    }

    > .six {
      border-left: 1px solid $alto;
      border-right: 1px solid $alto;
    }
  }
}

[role="main"] {
  position: relative;
  @include mq($from: tablet-landscape) {
    margin-top: -100px;
  }
}

main[role="main"],
.role-main {
  z-index: 5;
  position: relative;

  @include mq($from: site) {
    .sub-navigation {
      margin-top: -6em;
    }
  }

  .breadcrumbs {
    + .l-container {
      background: white;
    }
  }
}

.dept-parent-intro {
  @include mq($from: site) {
    h1 {
      min-height: 92px;
    }
  }
}

/* Accordion
   ========================================================================== */
.accordions {
  margin: 1em 0;

  #list-container & {
    margin: 0;
  }
}

.accordion {
  margin: 0 0 1em 0;
  @include transition(border .25s);

  #list-container & {
    margin: 0;
  }
}

.accordion__heading {
  margin: 0;
  padding: 1rem 3.5rem 1rem 1rem;
  color: $spruce;
  background: $mercury;
  position: relative;
  border: 1px solid white;
  @include transition(all .5s);

  #list-container & {
    padding: .2em 1em;
  }
}

.accordion__link {
  display: block;
  color: $spruce;
  text-decoration: none;

  #list-container & i {
    font-size: .75em;
  }
}

.accordion__drawer {
  padding: 1em;
  display: none;
  border: 1px solid $chateau;
  border-top: none;

  .no-js & {
    display: block;
  }
}

.toggle-icon {
  margin-top: -0.75em;
  width: 1.5em;
  height: 1.5em;
  line-height: 1.5em;
  display: inline-block;
  position: absolute;
  right: 1em;
  top: 50%;
  overflow: hidden;

  .csstransforms3d & {
    // @include transform(rotate( 0deg ));
    @include transition(transform .25s);
  }

  &:before,
  &:after {
    content: "";
    position: absolute;
    display: block;
    background: $chateau;

    .csstransforms3d & {
      top: 50%;
      // left: 50%;
      @include transform(translate3d(0, -50%, 0));
      @include transition(transform .25s, opacity .25s);
    }
  }

  &:before {
    margin-top: -1px;
    width: 100%;
    height: 2px;
    top: 50%;

    .csstransforms3d & {
      margin-top: auto;
      // width: 50%;
    }
  }

  &:after {
    margin-left: -1px;
    height: 100%;
    width: 2px;
    left: 50%;

    .csstransforms3d & {
      margin-left: auto;
    }
  }
}


.is-open {

  &.accordion {
  }

  > .accordion__heading {
    font-weight: 700;
    background: white;
    border: 1px solid $chateau;
    border-bottom: none;
  }

  .csstransforms3d & {

    > div > h2, > div > h3, > div > h4, > div > h5, > div > h6, > p, > h2, > h3, > h4, > h5, > h6 {
      & > a > .toggle-icon {
        &:before,
        &:after {
          background: $cerulean;
        }

        @include transform(rotate(45deg));

        &:before {
          // @include transform(translate3d( 100%, -50%, 0 ));
          // @include opacity( 0 );
          // opacity: 0;
        }
      }
    }
  }

}

.table__accordion {
  margin: 0;
  padding: 0;

  .accordion {
    margin: 0;
  }

  .accordion__drawer {
    padding: 0;
    border: none;
    display: block;
    // @include mq( $until: tablet ) {
    //     display: none;
    // }

  }

  .accordion__link {
    display: block;
    @include rem('font-size', 14px);

    i {
      line-height: 1.5;
    }

    @include mq($from: mobile-landscape) {
      @include rem('font-size', 18px);
    }
  }

  .accordion__heading {
    border: none;
    padding: .25em 0;
    line-height: 2.5;
    background: transparent;
  }

  .toggle-icon {
    position: static;
    margin: 0;
    line-height: 1;
    width: auto;
    height: 1em;
    vertical-align: middle;
    @include rem('font-size', 32px);

    &:after,
    &:before {
      display: none;
    }

    i {
      line-height: 1;
    }
  }

  .is-open {
    .accordion__heading {
      border-bottom: none;
    }

    .toggle-icon {
      @include transform(rotate(180deg));
    }
  }

  @include mq($from: tablet) {
    td,
    th {
      &:first-child {
        width: 40%;
      }
    }
  }

  @include mq($until: tablet) {
    td,
    th {
      border: none;
      @include span(4);

      &:nth-child(2),
      &:nth-child(3) {
        text-align: right;
      }
    }

    table {
      width: 100%;
    }

    .accordion__heading {
      padding: .75em .5em;
      @include rem('font-size', 18px);
    }
  }

  @include mq($until: mobile-landscape) {
    table {
      width: 100%;
    }
  }
}


/* Tables
========================================================================== */
table {
  margin-bottom: 1em;
  background: $off-white;

  th {
    padding: .5em 1em;
    text-align: left;
    word-wrap: break-word;
    background: $mercury;
    font-family: $font-family-secondary;

    @include mq($from: tablet) {
      /*border-bottom: 1px solid $alto;*/
      border-bottom: 1px solid grey;
    }
  }

  tr {
    line-height: 1.6;

    &:nth-child(even) {
      background: $mercury;
    }

    &.subheading,
    &:first-child {
      background: transparent;
    }

    &.subheading {
      color: $spruce;
      font-family: $font-family;

      td {
        padding-left: 0;
        @include mq($from: tablet) {
          line-height: 2.5;
          @include rem('font-size', 16px);
        }
      }
    }

    &.valign-m {
      td {
        vertical-align: middle !important;
      }
    }

    &.valign-b {
      td {
        vertical-align: bottom !important;
      }
    }
  }

  td {
    line-height: 1.8;
    padding: .5em 1em;
    vertical-align: top;

    &:first-child {
      padding-left: 1em;
    }

    &.table--break {
      padding-left: 0;
    }
  }

  &.ui-datepicker-calendar {
    tr:nth-child(even) {
      background: #f6f6f6;
    }

    td:first-child {
      padding-left: 0;
    }
  }
}

.table--thirds {
  th:first-child,
  td:first-child {
    @include span(5 of 12);
  }

  th:nth-child(2),
  td:nth-child(2) {
    @include span(4 of 12);
  }

  th:last-child,
  td:last-child {
    @include span(3 of 12);
  }

  p {
    margin: 0;
    line-height: 1.7;
  }


}

/* Media
   ========================================================================== */

figure {

  img {
    margin-bottom: 0;
  }

  figcaption {
    background-color: #e4e9eb;
    padding: .5em;
    font-style: italic;
    @include rem('font-size', 13px);

    p {
      margin-bottom: 0;
    }

    .photo-credit {
      padding: 0 0 .5em 0;
    }
  }

}

// Videos
.card--video {
  position: relative;

  i {
    z-index: 4;
    position: absolute;
    top: 50%;
    left: 50%;
    -webkit-transform: translate(-50%, -50%);
    -moz-transform: translate(-50%, -50%);
    -o-transform: translate(-50%, -50%);
    -ms-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);
    color: rgba(255, 255, 255, 0.75);
    @include rem('font-size', 48px);
  }

  img {
    width: 100%;
  }
}

.video-wrapper {
  position: relative;
  padding-bottom: 56.25%;
  padding-top: 30px;
  height: 0;
  overflow: hidden;

  iframe, object, embed {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}

.fb_iframe_widget iframe {
  border-radius: 4px;
}


.google-map {
  margin-bottom: 2em;

  @include mq($from: tablet) {
    margin-bottom: 0;
  }
}

.widget-scene {
  margin-top: 0 !important; // GMap-specific
}

.gm-iv-address {
  height: auto !important; // GMap-specific
}

.view-display-id-block_month {
  @media print {
    break-before: page;
    break-inside: avoid;
    * {
      margin: 0;
      padding: 0;
    }
    .view-filters, .date-prev, .date-next, .date-nav {
      display: none;
    }
    .date-nav:nth-child(2) {
      display: block;
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }
    .calendar {
      margin: 0;
      padding: 0;
      width: 100%;

      tbody td {
        font-size: 0.75em;
      }
    }
    a[href]:after {
      content: none !important;
    }
  }
}

.calendar {

  td.multi-day {
    background-color: aliceblue;
    padding-bottom: 0;
    div.month.day {
      // do not display the dates: e.g. 5-6-7-8
      display: none;

    }

    .calendar.monthview .contents {
      height: 1.7em;
      // Not really sure what this cutoff stuff is. Can't find any reference.
      // It comes from the default calendar template.
      .cutoff {
        display: none;
      }
    }

    .fine-print.content-type-events {
      // do not display the time
      display: none;
    }
  }

  // For our holiday type of content type "date" do not display the time, it is considered all day.
  .holiday {
    background-color: honeydew;
    .content-type-date {
      display: none;
    }
  }

  width: 100%;

  .days {
    text-align: center;
  }

  .day {
    padding: 0 .25em;
    color: $warning;
    width: 100%;
    text-align: right;
    font-family: $font-family-secondary;
    @include rem('font-size', 18px);

    @include mq($from: tablet) {
      text-align: right;
    }
  }

  table {
    width: 100%;
  }

  tr:nth-child(even) {
    background: white;
  }

  th {
    border: 1px solid $gray;
    border-right: none;
    border-bottom: none;
    background: $sunshade;

    &:last-child {
      border-right: 1px solid $gray;
    }
  }

  th, td {
    @include mq($from: tablet) {
      @include span(1 of 7 no-gutters);
      float: none;
    }
  }

  td {
    border: 1px solid $gray;
    padding: 0 0 .5em 0;
    line-height: 1.5em;
    @include mq($from: tablet) {
      min-height: 10em;
      border-bottom: none;
      border-right: none;

      &:last-child {
        border-right: 1px solid $gray;
      }
    }
    $color-names: cerulean, robin, sunshade, schoolbus, spruce, westar, teal, tulip, gold, science, endeavour, purple, success, red;
    $color-values: $cerulean, $robin, $sunshade, $schoolbus, $spruce, $westar, $teal, $tulip, $gold, $science, $endeavour, $purple, $success, $error;

    @for $c from 1 through 14 {

      $color-name: nth($color-names, $c);
      $color-value: nth($color-values, $c);

      .event-#{$color-name} {
        border-left: 5px solid $color-value;
        margin-left: .5em;
      }

    }
  }

  tr:last-child {
    @include mq($from: tablet) {
      td {
        border-bottom: 1px solid $gray;
      }
    }
  }

  .view-item-event_calendar {
    padding: .25em;
    margin-bottom: .25em;
    line-height: 1.4;
    background: $science;

    a {
      color: white;
      text-decoration: none;
    }
  }

  // Mobile
  @include mq($until: tablet) {

    // By default show the column.
    td {
      margin: 1em 0;
      display: block;
    }

    // Override the show if header column or empty.
    th,
    .empty,
    .no-entry,
    .has-no-events {
      display: none;
    }

    .has-events {
      margin: 1em 0;
      display: block;
    }
  }
}


/* Tabs
   ========================================================================== */

.tabs-list {
  z-index: 1;
  padding: 0;
  margin: 0;
  overflow: hidden;
  background: $off-white;
  border: 1px solid $alto;

  @include mq($from: site) {
    border-bottom: none;
  }
}

.tabs-list__item {
  z-index: 3;
  margin: 0;
  cursor: pointer;
  border-top: none;
  background: white;
  display: inline-block;
  @include rem('font-size', 14px);


  @include mq(mobile, mobile-landscape) {
    @include span(6 no-gutters);
    &:last-child {
      border-right: none;
    }
  }

  @include mq(mobile-landscape, site) {
    border: 1px solid $alto;
    border-top: none;
    border-right: none;
    @include span(4 no-gutters);
    &:last-child {
      border-bottom: none;
      border-right: 1px solid $alto;
    }
  }

  @include mq($from: site) {
    border-left: 1px solid $alto;
    border-bottom: 1px solid $alto;
    &:last-child {
      border-right: 1px solid $alto;
    }
    @include span(1 of 5 no-gutters);
    &:first-child {
      border-left: none;
    }
    &.is-active {
      border-bottom: 1px solid white;
    }
  }
}

.tabs-list__link {
  padding: 0.5em;
  display: block;
  //color: $chateau;
  text-decoration: none;
  border-top: 3px solid transparent;

  &:hover,
  .is-active & {
    border-color: $cerulean;
    color: $font-color;
  }
}

.tabs-container {
  padding: 1em;
  border: 1px solid $alto;
  border-top: none;
}

.tabs__bucket {
  display: none;

  &.is-active {
    display: block;
  }

  .cke_editable & {
    display: block;
    border-style: double;
    margin: 20px 0;
    padding: 10px;
  }

  .no-js & {
    display: block;
  }
}

.tabs {
  &.primary {
    @media print {
      display: none;
    }

    .admin-menu & {
      //margin-top:169px;
      margin-top: 20px;
    }

    @extend .l-constrained;
    margin-left: auto !important;
    margin-right: auto !important;
    padding: 0 1em 0 0;

    li {
      display: inline-block;
      height: 40px;
      float: left;
      @extend .l-margin-vn; //margin: 0;

      a {
        height: 100%;
        display: block;
        padding-top: .5rem;
      }
    }

    .node-type-application & {
      margin-top: 0px;
    }
  }
}

.messages {
  .admin-menu & {
    @extend .l-constrained;
    margin: 0 auto !important;
  }
}

// Application Content Type Overrides
.app_wrap {
  padding: 0 2%;
}

/* Footer
   ========================================================================== */
footer {
  @media print {
    display: none;
  }

  background: $spruce;
  text-align: center;

  .node-type-application & {
    &.l-constrained {
      display: none;
    }
  }

  @include mq($from: mobile-landscape) {
    text-align: left;
  }

  // @include mq( $from: tablet ) {
  //     > .row {
  //         &:before {
  //             content: '';
  //             display: block;
  //             height: 100%;
  //             background: darken( $spruce, 10% );
  //             width: 100%;
  //             position: absolute;
  //             left: -50%;
  //         }
  //     }
  // }

  > .row {

    @include mq($from: tablet) {
      display: block;
      display: -webkit-flex;
      display: flex;
      -webkit-justify-content: space-between;
      justify-content: space-between;
      -webkit-flex-wrap: nowrap;
      flex-wrap: nowrap;
    }
  }


  .socials {

    @include mq($from: tablet) {
      margin: 0 .5em;
      display: inline-block;
      vertical-align: bottom;
    }

    li {
      margin: .5em .25em 0;
    }

    a {
      background: rgba(246, 246, 246, 0.8);

      &:hover {
        background: $off-white;
        color: darken($spruce, 25%);
      }
    }
  }

  p {
    margin: 0 0 .5em;
    color: lighten($spruce, 25%);
    @include mq($from: tablet) {
      @include rem('font-size', 13px);
    }
  }

  .copyright {
    margin: 2.5em 0 0;
    @include mq($from: tablet) {
      @include rem('font-size', 11px);
    }
  }

  ul {
    list-style: none;
    margin: 0;
    padding: 0;
    @include mq($from: tablet) {
      @include rem('font-size', 11px);
    }

    li {
      padding: 0;
      margin: 0 0 .5em;
    }

    &.two-columns {
      -webkit-column-count: 1;
      -moz-column-count: 1;
      -ms-column-count: 1;
      column-count: 1;

      @include mq($from: mobile-landscape) {
        li {
          width: 48%;
          float: left;
          padding: 0 1%;
        }
      }
    }

  }

  .footer--left {
    background: darken($spruce, 10%);
  }

  .footer--right {

    background: $spruce;

    @include mq($from: tablet-landscape) {
      .four {
        /*  below makes divider lines in footer between council districts and City officials */
        &:after {
          content: '';
          display: block;
          width: 2px;
          height: 125px;
          position: absolute;
          right: 5%;
          top: 0;
          /*  background: darken( $spruce, 10% ); */
        }

        &:last-child::after {
          display: none;
        }
      }
    }

  }

  a {
    color: white;
    text-decoration: none;

    &:hover {
      color: lighten($spruce, 25%);
    }
  }
}

// ie fallback
.no-flexbox footer {
  > .row {
    display: block;
  }
}

.footer__privacy {
  @media print {
    display: none;
  }
  background: $alto;

  li {
    margin: 0 .25em;
    display: inline-block;
    color: lighten($spruce, 25%);

    &:after {
      content: '|';
      margin-left: .65em;
    }

    &:last-child::after {
      content: '';
    }
  }

  a {
    text-decoration: underline;
    color: lighten($spruce, 25%);
    @include rem('font-size', 13px);

    &:hover {
      color: $spruce;
    }
  }
}

// San Diego specific
.field-collection-container {
  width: 100%;

  a {
    text-decoration: none;
  }

  border-bottom: none;

  body.node-type-outreach & {
    margin-bottom: 0;
  }

  body.node-type-outreach2 & {
    margin-bottom: 0;
    padding-bottom: 0;
    // Types of dividers for sections. Right now just none or 1
    hr.field-collection-section-1 {
      margin-block-start: 0;
      margin-block-end: 0;
      height: 0;
    }

    hr.field-collection-section-2 {
      margin-block-start: 0;
      margin-block-end: 0;
      border-top-width: 5px;
      height: 0;
    }
  }
}

body.logged-in {
  #admin-menu {
    z-index: 999999;
  }
}


/* Draggable Views
   ========================================================================== */

.views-sort-page {
  // Do not display the "Show row weights" link so users can't change from
  // handles to weights which do not work properly.
  .tabledrag-toggle-weight-wrapper {
    display: none;
  }

  // Make the drag icon appear properly.
  a.tabledrag-handle .handle {
    height: 28px;
    width: 28px;
  }
}

/* Colorbox
   ========================================================================== */

/* our sandiego theme header has a z-index of 88888 so colorbox goes under it, put color box above */
body #colorbox, #cboxOverlay, #cboxWrapper {
  z-index: 90000;
}


/* Gallery
   ========================================================================== */
.current-gallery-term {
  font-weight: bold;
}

.widget .gallery-menu ul.events {
  padding-left: 2em;
  list-style-type: circle;
  display: none;

  &.open {
    display: block;
  }
}

.gallery-menu li i {
  //@extend .text-off-white-like-background;
  color: #37424a;

  &.toggle {
    @extend .text-gray;
    cursor: pointer;
  }
}

.gallery-view .card__container .card__image img {
  border-radius: 4px;
}

/* Stellar
   ========================================================================== */
.stellar-window {
  @include mq($from: tablet) {
    min-height: 300px;
    background-size: 100% auto;
  }
  @include mq($until: tablet) {
    min-height: 150px;
    background-size: auto 100%;
  }
  background-size: 100% auto;
  background-attachment: fixed;
  background-position: 50% 50%;
  background-repeat: no-repeat;
  position: relative;
}

.stellar-window.repeat-x {
  @include mq($from: tablet) {
    background-size: auto auto;
    background-repeat: repeat-x;
  }
}

.outreach2-article-image h1, .outreach2-article-image p,
.stellar-window p, .stellar-window h1, .stellar-window h2, .stellar-window h3, .stellar-window h4 {
  color: white;
  text-shadow: 0 0 #555, 0 2px 0.3em black, 2px 0 0.3em black, 0 0 black;
}

.node-type-outreach2-article h1 {
  @include mq($from: tablet) {
    font-size: 2.5rem;
  }
  //@include mq($until: tablet) {
  //  font-size: 2.0rem;
  //}

}

.outreach2-article-image p.noshadow,
.stellar-window p.noshadow {
  text-shadow: none;
}

.outreach2-article-image {
  background-size: cover;
  @include mq($from: tablet) {
    min-height: 300px;
  }
  @include mq($until: tablet) {
    min-height: 200px;
  }
}

@media not all and (min-resolution: .001dpcm) {
  @supports (-webkit-appearance:none) {
    .selector {
      property: value;
    }
  }
}


/* Office Hours
   ========================================================================== */
.oh-wrapper .oh-display:first-child {
  font-weight: 600;
}

.oh-display-closed {
  color: red;
  margin-right: 5px;
  text-align: right;
}

.oh-display span.oh-display-label {
  display: inline;
  float: left;
  clear: both;
}

.oh-display .oh-display-times {
  display: inline;
  float: right;
  text-align: right;
  margin-bottom: .5em;
}

.oh-display:last-child .oh-display-times {
  margin-bottom: 0;
}

.oh-current-open, .oh-current-closed {
  @include mq($until: tablet) {
    text-align: center;
  }
}

form#user-login {
  @extend .l-constrained;

  div.form-item-name {
    padding-bottom: 0 !important;
  }

  .form-item {
    margin-bottom: 1em;

    label {
      float: left;
      width: 120px;
      padding-top: 0.5em;
      @include mq($from: mobile-landscape) {
        padding-left: 10px;
      }
    }

    input {
      margin-bottom: 0.5em;
      width: 25em !important;
    }
  }

  @include mq($from: mobile-landscape) {
    > div {
      padding-left: 0 !important;
    }

    .description {
      padding-left: 120px;
    }

    .form-actions {
      padding-left: 120px;
    }
  }
}

form#protected-pages-enter-password {
  @extend .l-constrained;
  background-color: white;

  fieldset {
    border: none;
    padding: 2em;

    input#edit-submit {
      color: white;
      background-color: #0098db;
    }
  }
}

div.error {
  @extend .l-constrained;
  margin: 1em auto;
}

#block-system-main .profile, #block-masquerade-masquerade, #block-bean-sdadmin-display-node-type- {
  padding: 1em 1em 0 1em;
}

/* Inside San Diego
   ========================================================================== */

body.node-type-article {
  h1 {
    text-shadow: 0 0 #555, 0 2px 0.3em black, 2px 0 0.3em black, 0 0 black;

    @include mq($until: tablet) {
      font-size: 2rem;
      text-align: center;
    }
    @include mq($from: tablet) {
      font-size: 3rem;
      text-align: left;
    }
  }

  h2 a, h3 a, h4 a {
    color: #37424a;
    text-decoration: none;
  }

  .sub-navigation-mobile .accordion__heading, .sub-navigation-mobile .accordion__drawer {
    background-color: #00549f;
  }

  .sub-navigation-mobile .is-open .accordion__heading {
    background-color: white;
  }

  @include mq($until: tablet) {
    .hero__slides--secondary {
      padding-bottom: 0;
      min-height: auto;
    }
    .sub-navigation li {
      background-color: #00549f;
    }
  }

  @include mq($from: tablet) {
    .sub-navigation {

      margin-top: -29px;

      li {
        max-width: none;
        margin: 0 0 0 .8em;
        background-color: #00549f;
      }

      &.insidesd-article {
        margin-top: -77px;
      }
    }
    .hero__bg {
      background-position: top center;

      &.hero__bg--secondary {
        height: 130.5%;
      }
    }

    main > div.nine, aside > div.three {
      z-index: 15;
    }
  }

  hr.features {
    border-top: none;
    background-color: #dde2e5;
    height: 2px;
  }

  main {
    position: relative;
    background-color: white;
  }

  .block-menu {
    li a.active {
      color: #fff;
    }
  }
}

/* use flexbox on article features for long titles, did not use card because
   we want two up on mobile
*/
.view-id-article_features.view-display-id-embed_1 {
  .flex-wrap {
    padding: 0;
    display: block; /* Fallback IE9 */
    display: -webkit-flex; /* Safari */
    display: flex;
    -webkit-flex-wrap: wrap; /* Safari */
    flex-wrap: wrap;
  }
}

/* Accessibility Dialog Popup
   ========================================================================== */

/* accessibility text in header */
.accessibility {
  display: inline-block;
  position: relative;
  padding: 5px 0 .5em 0;
  margin-top: 4px;
  margin-right: 15px;
  padding-top: 4px;
  font-size: 10pt;
}

#accessibility {
  vertical-align: middle;
  font-size: 0.75rem;
}

/* Width of popup */
.white-popup.accessibility-popup-position {
  width: 700px;
  max-width: 700px;
}

/* class for disabled link */
.disable_link {
  @extend .text-gray;
  text-decoration: none;
  cursor: default;
}

div#__ba_panel {
  display: none;
}

/* Sire views
   ========================================================================== */

.sire {
  .view-grouping-header {
    @extend .h3;
    @extend .l-margin-bd;
  }

  .row {
    margin-left: 30px;
  }
}


/* Custom CSS for Views having groupings like External Data (OCD)
   ========================================================================== */
.view-custom-css {
  .view-grouping-header {
    @extend .subheading;
    @extend .h3;
    color: $teal;
  }
}


/* CSS for Views exposed filters
   ========================================================================== */
.views-exposed-form {
  .date-date.form-text {
    width: 8em;
  }
}

/* CSS for elevateZoom
   ========================================================================== */
.zoomContainer {
  cursor: none;
}

/* CSS for Solr Search results
   ========================================================================== */
ol.search-results.apachesolr_search-results {
  padding-left: 0;
}

#block-apachesolr-search-sort {
  margin-top: 0;
}

#block-apachesolr-search-sort,
h2.block-facetapi {
  @include rem('font-size', 16px); // 1.125em
  @media print {
    font-size: 1em;
    margin: 0;
    font-weight: bold;
  }
}

body.page-search {
  #search-block-form {
    #edit-keys {
      margin-bottom: 1em !important;
    }

    #search-results {
      position: relative;
      top: -0.7em;
    }
  }

  @include mq($from: tablet-landscape) {
    div.container {
      margin-top: 0;
    }

    header.header--fixed + div.container {
      margin-top: 165px;
    }
  }
}

/* Table from sorted view
   ========================================================================== */

.view-grouping .views-table {
  width: 100%;

  caption {
    text-align: left;
    font-weight: 600;
    padding-left: 1em;
    padding-bottom: 0.75em;
    @include rem('font-size', 16px); // 1.25em
    @media print {
      font-size: 1em;
      margin: 0;
      font-weight: bold;
    }
    display: none;
  }

  tr.ocd-group {
    td {
      background-color: #f6f6f6;
    }

    td:first-child {
      width: 20%;
      visibility: collapse;
    }

    &:first-child {
      td:first-child {
        visibility: visible;
      }
    }
  }
}


/* Solr
   ========================================================================== */

#search-form {
  #edit-submit {
    @extend %btn;

    &:hover {
      color: white;
      text-decoration: none;
      background-color: lighten($cerulean, 10%);
    }

    i {
      padding: .4em;
      font-weight: 600;
      color: $cerulean;
      background: white;
      border-radius: 50%;
      text-align: center;
      margin-right: .5em;
      display: inline-block;
      vertical-align: middle;
      @include transition-property(color, background);
      @include transition-duration(.15s);
    }

    .icon-chevron-right,
    .icon-chevron-left {
      padding: 0;
      color: white;
      font-size: 150%;
      border-radius: 0;
      background: transparent;
      vertical-align: sub;
      line-height: .4;
    }

    float: left;

  }

  div.form-item-retain-filters {
    margin-left: 1em;
    position: relative;
    top: 0.5em;

  }

  #edit-basic {
    margin-bottom: 1em !important;
    padding: 1em 1em 2em 1em !important;
    background-color: #eaeeef !important;
    border-radius: 4px;
  }

  #edit-keys {
    margin-bottom: 0.7em;
  }

  #search-results {
    float: right;
  }

  @include mq($until: mobile-wide) {
    #edit-basic {
      padding: 1em 1em 5em 1em !important;
    }
    #edit-submit {
      float: left;

      i {
        margin-bottom: 0.3em;
      }
    }
    div.form-item-retain-filters {
      float: left;
      margin-top: 0;
      clear: left;
      margin-left: 0;
    }
  }
}

.facets {
  ul {
    padding: 0 0 0 22px;

    &.facetapi-processed {
      list-style-type: none;
      padding: 0 0 0 20px;

      li.leaf {
        list-style-image: none;
        list-style-type: none;
        margin: 0.5em 0;
        position: relative;

        input {
          position: absolute;
          left: -21px;
          top: 10px;
          size: 1.25em;
        }

        a {
          color: #027fb6;
          font-size: 0.9em;
        }
      }
    }
  }
}

// Explaining search results.
pre.explain {
  font-size: .8em;
}

// This is for flagging OCD documents, like in legal opinions in views and Solr search results.
.document-flag {
  @extend .l-padding-as;
  //@extend .rounded-corners;
  @extend .fine-print;
  white-space: nowrap;
  padding-top: .2em !important;
  padding-bottom: .2em !important;
  color: $spruce !important;
  font-weight: bold;

  &.search-result {
    // Used to have the top/bottom padding here, moved outside to be consistent.
  }

  &.background--cerulean {
    background-color: $cerulean !important;
  }

  &.background--sunshade {
    background: $sunshade !important;
  }

  &.background--robin {
    background: $robin !important;
  }

  &.background--riptide {
    background: $riptide !important;
  }

  &.background--texasrose {
    background: $texasrose !important;
  }

  &.background--manz {
    background: $manz !important;
  }

  &.background--error {
    background: $error !important;
    color: white !important;
  }
}

// Status indicators

.status-available, .status-open {
  background-color: $success !important;
}

.status-unavailable, .status-closed {
  background-color: $error !important;
}

.status-impacted {
  background-color: $sunshade !important;
}

#block-bean-homepage-featured-items {
  @include mq($until: mobile-landscape) {
    h6 {
      height: 2.5em;
    }
  }
}


/* Captcha
   ========================================================================== */

fieldset.captcha.form-wrapper {
  @extend .l-margin-bd;
  // Don't displace the Captcha text embedded in the border of the fieldset.
  legend {
    display: none;
  }
}

.hide-form-actions-input div.form-actions input {
  display: none;
}

/* Think Blue specific colors
   ========================================================================== */

.think-blue-event {
  border: 2px solid #00549f;
  border-radius: 30px;
  overflow: hidden;
  background-color: #00549f;
}

div#think-blue-contact input[type=submit] {
  border: 1px solid white;
}

/* Think Blue specific colors
   ========================================================================== */

$color-names: cerulean, robin, sunshade, schoolbus, spruce, westar, teal, tulip, gold, science, endeavour, purple, success, red;
$color-values: $cerulean, $robin, $sunshade, $schoolbus, $spruce, $westar, $teal, $tulip, $gold, $science, $endeavour, $purple, $success, $error;

@for $c from 1 through 14 {

  $color-name: nth($color-names, $c);
  $color-value: nth($color-values, $c);

  .background--#{$color-name} {
    background: $color-value !important;
  }
}

/* Remove External Link icon with class
   ========================================================================== */

.no-ext-link span.ext {
  display: none;
}

/* CSS for our
   ========================================================================== */
ul.flex-direction-nav li {
  margin: 0 !important
}

/* request by Ron */
div.l-section {
  margin-left: -2em;
  margin-right: -2em;
  padding: 2em;
}
